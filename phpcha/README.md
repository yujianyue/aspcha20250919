# 康熙字典查询系统

一个基于PHP + Access的响应式字典查询系统，支持手机和电脑自适应显示。

## 功能特点

- 📱 **响应式设计** - 完美支持手机和电脑访问
- 🔍 **多种查询方式** - 支持按字、部首、释义查询
- 📊 **双视图模式** - 表格视图和列表视图可切换
- 📄 **分页功能** - 完整的分页导航，支持首页、上一页、页码选择、下一页、末页
- 🖼️ **图片支持** - 支持图片字段点击全屏显示
- 🔗 **链接支持** - 支持链接字段点击访问
- 🎨 **现代化UI** - 美观的渐变背景和卡片式设计
- ⚡ **AJAX查询** - 无刷新查询体验
- 🛡️ **安全可靠** - 参数验证和错误处理

## 文件结构

```
phpcha/
├── index.php          # 主页面
├── search.php         # 查询处理
├── config.php         # 配置文件
├── style.css          # 样式文件
├── script.js          # JavaScript文件
├── shujuku/           # 数据库目录
│   └── data.mdb       # Access数据库文件
└── README.md          # 说明文档
```

## 安装步骤

1. **上传文件** - 将所有文件上传到Web服务器
2. **配置数据库** - 将Access数据库文件 `data.mdb` 放入 `shujuku/` 目录
3. **设置权限** - 确保数据库文件有读取权限
4. **配置参数** - 根据需要修改 `config.php` 中的配置

## 配置说明

### 基础配置
```php
$title = "康熙字典查询系统";    // 页面标题
$copyr = "查立得-";            // 版权信息
$pagex = "10";                // 每页显示记录数
$pagem = "20";                // 最大显示页数
$baoha = "1";                 // 精确匹配(1)或模糊匹配(0)
```

### 字段配置
```php
$itiao = "||zi||lu||shu||";   // 可搜索的字段
$ihide = "||id||";            // 隐藏的字段
$isurl = "||";                // 作为链接显示的字段
$isimg = "||";                // 作为图片显示的字段
```

## 数据库要求

### 表结构
```sql
CREATE TABLE kangxi (
    id AUTOINCREMENT PRIMARY KEY,
    zi TEXT,           -- 字
    lu TEXT,           -- 部首
    shu TEXT           -- 释义
);
```

### 示例数据
```sql
INSERT INTO kangxi (zi, lu, shu) VALUES 
('忄', '【卯集上】【心字部】', '【集韻】同懶。字頭字从忄从柬。'),
('心', '【卯集上】【心字部】', '【說文】人心，土藏，在身之中。');
```

## 使用方法

1. **访问系统** - 在浏览器中打开 `index.php`
2. **选择查询类型** - 选择按字、部首或释义查询
3. **输入关键词** - 在输入框中输入要查询的内容
4. **执行查询** - 点击查询按钮或按回车键
5. **查看结果** - 在结果区域查看查询结果
6. **切换视图** - 使用表格视图或列表视图按钮切换显示方式
7. **翻页浏览** - 使用分页控件浏览更多结果

## 技术特点

- **纯原生技术** - 不依赖任何第三方库
- **HTML5 + CSS3** - 使用现代Web标准
- **AJAX异步查询** - 提供流畅的用户体验
- **ODBC数据库连接** - 兼容Access数据库
- **UTF-8编码** - 完美支持中文显示
- **错误处理** - 完善的错误提示和异常处理

## 浏览器兼容性

- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+
- 移动端浏览器

## 注意事项

1. 确保服务器支持PHP 5.4+
2. 需要安装ODBC驱动支持Access数据库
3. 数据库文件路径要正确配置
4. 建议定期备份数据库文件

## 自定义开发

### 添加新字段
1. 在数据库中添加新字段
2. 在 `config.php` 的 `$field_map` 中添加字段映射
3. 根据需要配置 `$itiao`、`$ihide`、`$isurl`、`$isimg`

### 修改样式
- 编辑 `style.css` 文件
- 支持响应式设计
- 可自定义颜色、字体、布局等

### 扩展功能
- 可添加更多查询条件
- 可集成其他数据库
- 可添加用户权限管理

## 技术支持

如有问题，请检查：
1. 数据库文件是否存在且可访问
2. PHP错误日志
3. 浏览器控制台错误信息
4. 服务器ODBC配置

---

© 2024 查立得-康熙字典查询系统